{"version":3,"file":"signature_pad.js","mappings":"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","sources":["webpack://signature_pad/./node_modules/signature_pad/dist/signature_pad.js","webpack://signature_pad/./django_signature_pad/src/js/signature_pad.js"],"sourcesContent":["/*!\n * Signature Pad v5.0.1 | https://github.com/szimek/signature_pad\n * (c) 2024 Szymon Nowak | Released under the MIT license\n */\n\nclass Point {\n    constructor(x, y, pressure, time) {\n        if (isNaN(x) || isNaN(y)) {\n            throw new Error(`Point is invalid: (${x}, ${y})`);\n        }\n        this.x = +x;\n        this.y = +y;\n        this.pressure = pressure || 0;\n        this.time = time || Date.now();\n    }\n    distanceTo(start) {\n        return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n    }\n    equals(other) {\n        return (this.x === other.x &&\n            this.y === other.y &&\n            this.pressure === other.pressure &&\n            this.time === other.time);\n    }\n    velocityFrom(start) {\n        return this.time !== start.time\n            ? this.distanceTo(start) / (this.time - start.time)\n            : 0;\n    }\n}\n\nclass Bezier {\n    static fromPoints(points, widths) {\n        const c2 = this.calculateControlPoints(points[0], points[1], points[2]).c2;\n        const c3 = this.calculateControlPoints(points[1], points[2], points[3]).c1;\n        return new Bezier(points[1], c2, c3, points[2], widths.start, widths.end);\n    }\n    static calculateControlPoints(s1, s2, s3) {\n        const dx1 = s1.x - s2.x;\n        const dy1 = s1.y - s2.y;\n        const dx2 = s2.x - s3.x;\n        const dy2 = s2.y - s3.y;\n        const m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n        const m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n        const l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n        const l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n        const dxm = m1.x - m2.x;\n        const dym = m1.y - m2.y;\n        const k = l2 / (l1 + l2);\n        const cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n        const tx = s2.x - cm.x;\n        const ty = s2.y - cm.y;\n        return {\n            c1: new Point(m1.x + tx, m1.y + ty),\n            c2: new Point(m2.x + tx, m2.y + ty),\n        };\n    }\n    constructor(startPoint, control2, control1, endPoint, startWidth, endWidth) {\n        this.startPoint = startPoint;\n        this.control2 = control2;\n        this.control1 = control1;\n        this.endPoint = endPoint;\n        this.startWidth = startWidth;\n        this.endWidth = endWidth;\n    }\n    length() {\n        const steps = 10;\n        let length = 0;\n        let px;\n        let py;\n        for (let i = 0; i <= steps; i += 1) {\n            const t = i / steps;\n            const cx = this.point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n            const cy = this.point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n            if (i > 0) {\n                const xdiff = cx - px;\n                const ydiff = cy - py;\n                length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n            }\n            px = cx;\n            py = cy;\n        }\n        return length;\n    }\n    point(t, start, c1, c2, end) {\n        return (start * (1.0 - t) * (1.0 - t) * (1.0 - t))\n            + (3.0 * c1 * (1.0 - t) * (1.0 - t) * t)\n            + (3.0 * c2 * (1.0 - t) * t * t)\n            + (end * t * t * t);\n    }\n}\n\nclass SignatureEventTarget {\n    constructor() {\n        try {\n            this._et = new EventTarget();\n        }\n        catch (error) {\n            this._et = document;\n        }\n    }\n    addEventListener(type, listener, options) {\n        this._et.addEventListener(type, listener, options);\n    }\n    dispatchEvent(event) {\n        return this._et.dispatchEvent(event);\n    }\n    removeEventListener(type, callback, options) {\n        this._et.removeEventListener(type, callback, options);\n    }\n}\n\nfunction throttle(fn, wait = 250) {\n    let previous = 0;\n    let timeout = null;\n    let result;\n    let storedContext;\n    let storedArgs;\n    const later = () => {\n        previous = Date.now();\n        timeout = null;\n        result = fn.apply(storedContext, storedArgs);\n        if (!timeout) {\n            storedContext = null;\n            storedArgs = [];\n        }\n    };\n    return function wrapper(...args) {\n        const now = Date.now();\n        const remaining = wait - (now - previous);\n        storedContext = this;\n        storedArgs = args;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = fn.apply(storedContext, storedArgs);\n            if (!timeout) {\n                storedContext = null;\n                storedArgs = [];\n            }\n        }\n        else if (!timeout) {\n            timeout = window.setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\n\nclass SignaturePad extends SignatureEventTarget {\n    constructor(canvas, options = {}) {\n        var _a, _b, _c;\n        super();\n        this.canvas = canvas;\n        this._drawingStroke = false;\n        this._isEmpty = true;\n        this._lastPoints = [];\n        this._data = [];\n        this._lastVelocity = 0;\n        this._lastWidth = 0;\n        this._handleMouseDown = (event) => {\n            if (!this._isLeftButtonPressed(event, true) || this._drawingStroke) {\n                return;\n            }\n            this._strokeBegin(this._pointerEventToSignatureEvent(event));\n        };\n        this._handleMouseMove = (event) => {\n            if (!this._isLeftButtonPressed(event, true) || !this._drawingStroke) {\n                this._strokeEnd(this._pointerEventToSignatureEvent(event), false);\n                return;\n            }\n            this._strokeMoveUpdate(this._pointerEventToSignatureEvent(event));\n        };\n        this._handleMouseUp = (event) => {\n            if (this._isLeftButtonPressed(event)) {\n                return;\n            }\n            this._strokeEnd(this._pointerEventToSignatureEvent(event));\n        };\n        this._handleTouchStart = (event) => {\n            if (event.targetTouches.length !== 1 || this._drawingStroke) {\n                return;\n            }\n            if (event.cancelable) {\n                event.preventDefault();\n            }\n            this._strokeBegin(this._touchEventToSignatureEvent(event));\n        };\n        this._handleTouchMove = (event) => {\n            if (event.targetTouches.length !== 1) {\n                return;\n            }\n            if (event.cancelable) {\n                event.preventDefault();\n            }\n            if (!this._drawingStroke) {\n                this._strokeEnd(this._touchEventToSignatureEvent(event), false);\n                return;\n            }\n            this._strokeMoveUpdate(this._touchEventToSignatureEvent(event));\n        };\n        this._handleTouchEnd = (event) => {\n            if (event.targetTouches.length !== 0) {\n                return;\n            }\n            if (event.cancelable) {\n                event.preventDefault();\n            }\n            this.canvas.removeEventListener('touchmove', this._handleTouchMove);\n            this._strokeEnd(this._touchEventToSignatureEvent(event));\n        };\n        this._handlePointerDown = (event) => {\n            if (!this._isLeftButtonPressed(event) || this._drawingStroke) {\n                return;\n            }\n            event.preventDefault();\n            this._strokeBegin(this._pointerEventToSignatureEvent(event));\n        };\n        this._handlePointerMove = (event) => {\n            if (!this._isLeftButtonPressed(event, true) || !this._drawingStroke) {\n                this._strokeEnd(this._pointerEventToSignatureEvent(event), false);\n                return;\n            }\n            event.preventDefault();\n            this._strokeMoveUpdate(this._pointerEventToSignatureEvent(event));\n        };\n        this._handlePointerUp = (event) => {\n            if (this._isLeftButtonPressed(event)) {\n                return;\n            }\n            event.preventDefault();\n            this._strokeEnd(this._pointerEventToSignatureEvent(event));\n        };\n        this.velocityFilterWeight = options.velocityFilterWeight || 0.7;\n        this.minWidth = options.minWidth || 0.5;\n        this.maxWidth = options.maxWidth || 2.5;\n        this.throttle = (_a = options.throttle) !== null && _a !== void 0 ? _a : 16;\n        this.minDistance = (_b = options.minDistance) !== null && _b !== void 0 ? _b : 5;\n        this.dotSize = options.dotSize || 0;\n        this.penColor = options.penColor || 'black';\n        this.backgroundColor = options.backgroundColor || 'rgba(0,0,0,0)';\n        this.compositeOperation = options.compositeOperation || 'source-over';\n        this.canvasContextOptions = (_c = options.canvasContextOptions) !== null && _c !== void 0 ? _c : {};\n        this._strokeMoveUpdate = this.throttle\n            ? throttle(SignaturePad.prototype._strokeUpdate, this.throttle)\n            : SignaturePad.prototype._strokeUpdate;\n        this._ctx = canvas.getContext('2d', this.canvasContextOptions);\n        this.clear();\n        this.on();\n    }\n    clear() {\n        const { _ctx: ctx, canvas } = this;\n        ctx.fillStyle = this.backgroundColor;\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        this._data = [];\n        this._reset(this._getPointGroupOptions());\n        this._isEmpty = true;\n    }\n    fromDataURL(dataUrl, options = {}) {\n        return new Promise((resolve, reject) => {\n            const image = new Image();\n            const ratio = options.ratio || window.devicePixelRatio || 1;\n            const width = options.width || this.canvas.width / ratio;\n            const height = options.height || this.canvas.height / ratio;\n            const xOffset = options.xOffset || 0;\n            const yOffset = options.yOffset || 0;\n            this._reset(this._getPointGroupOptions());\n            image.onload = () => {\n                this._ctx.drawImage(image, xOffset, yOffset, width, height);\n                resolve();\n            };\n            image.onerror = (error) => {\n                reject(error);\n            };\n            image.crossOrigin = 'anonymous';\n            image.src = dataUrl;\n            this._isEmpty = false;\n        });\n    }\n    toDataURL(type = 'image/png', encoderOptions) {\n        switch (type) {\n            case 'image/svg+xml':\n                if (typeof encoderOptions !== 'object') {\n                    encoderOptions = undefined;\n                }\n                return `data:image/svg+xml;base64,${btoa(this.toSVG(encoderOptions))}`;\n            default:\n                if (typeof encoderOptions !== 'number') {\n                    encoderOptions = undefined;\n                }\n                return this.canvas.toDataURL(type, encoderOptions);\n        }\n    }\n    on() {\n        this.canvas.style.touchAction = 'none';\n        this.canvas.style.msTouchAction = 'none';\n        this.canvas.style.userSelect = 'none';\n        const isIOS = /Macintosh/.test(navigator.userAgent) && 'ontouchstart' in document;\n        if (window.PointerEvent && !isIOS) {\n            this._handlePointerEvents();\n        }\n        else {\n            this._handleMouseEvents();\n            if ('ontouchstart' in window) {\n                this._handleTouchEvents();\n            }\n        }\n    }\n    off() {\n        this.canvas.style.touchAction = 'auto';\n        this.canvas.style.msTouchAction = 'auto';\n        this.canvas.style.userSelect = 'auto';\n        this.canvas.removeEventListener('pointerdown', this._handlePointerDown);\n        this.canvas.removeEventListener('mousedown', this._handleMouseDown);\n        this.canvas.removeEventListener('touchstart', this._handleTouchStart);\n        this._removeMoveUpEventListeners();\n    }\n    _getListenerFunctions() {\n        var _a;\n        const canvasWindow = window.document === this.canvas.ownerDocument\n            ? window\n            : (_a = this.canvas.ownerDocument.defaultView) !== null && _a !== void 0 ? _a : this.canvas.ownerDocument;\n        return {\n            addEventListener: canvasWindow.addEventListener.bind(canvasWindow),\n            removeEventListener: canvasWindow.removeEventListener.bind(canvasWindow),\n        };\n    }\n    _removeMoveUpEventListeners() {\n        const { removeEventListener } = this._getListenerFunctions();\n        removeEventListener('pointermove', this._handlePointerMove);\n        removeEventListener('pointerup', this._handlePointerUp);\n        removeEventListener('mousemove', this._handleMouseMove);\n        removeEventListener('mouseup', this._handleMouseUp);\n        removeEventListener('touchmove', this._handleTouchMove);\n        removeEventListener('touchend', this._handleTouchEnd);\n    }\n    isEmpty() {\n        return this._isEmpty;\n    }\n    fromData(pointGroups, { clear = true } = {}) {\n        if (clear) {\n            this.clear();\n        }\n        this._fromData(pointGroups, this._drawCurve.bind(this), this._drawDot.bind(this));\n        this._data = this._data.concat(pointGroups);\n    }\n    toData() {\n        return this._data;\n    }\n    _isLeftButtonPressed(event, only) {\n        if (only) {\n            return event.buttons === 1;\n        }\n        return (event.buttons & 1) === 1;\n    }\n    _pointerEventToSignatureEvent(event) {\n        return {\n            event: event,\n            type: event.type,\n            x: event.clientX,\n            y: event.clientY,\n            pressure: 'pressure' in event ? event.pressure : 0,\n        };\n    }\n    _touchEventToSignatureEvent(event) {\n        const touch = event.changedTouches[0];\n        return {\n            event: event,\n            type: event.type,\n            x: touch.clientX,\n            y: touch.clientY,\n            pressure: touch.force,\n        };\n    }\n    _getPointGroupOptions(group) {\n        return {\n            penColor: group && 'penColor' in group ? group.penColor : this.penColor,\n            dotSize: group && 'dotSize' in group ? group.dotSize : this.dotSize,\n            minWidth: group && 'minWidth' in group ? group.minWidth : this.minWidth,\n            maxWidth: group && 'maxWidth' in group ? group.maxWidth : this.maxWidth,\n            velocityFilterWeight: group && 'velocityFilterWeight' in group\n                ? group.velocityFilterWeight\n                : this.velocityFilterWeight,\n            compositeOperation: group && 'compositeOperation' in group\n                ? group.compositeOperation\n                : this.compositeOperation,\n        };\n    }\n    _strokeBegin(event) {\n        const cancelled = !this.dispatchEvent(new CustomEvent('beginStroke', { detail: event, cancelable: true }));\n        if (cancelled) {\n            return;\n        }\n        const { addEventListener } = this._getListenerFunctions();\n        switch (event.event.type) {\n            case 'mousedown':\n                addEventListener('mousemove', this._handleMouseMove);\n                addEventListener('mouseup', this._handleMouseUp);\n                break;\n            case 'touchstart':\n                addEventListener('touchmove', this._handleTouchMove);\n                addEventListener('touchend', this._handleTouchEnd);\n                break;\n            case 'pointerdown':\n                addEventListener('pointermove', this._handlePointerMove);\n                addEventListener('pointerup', this._handlePointerUp);\n                break;\n        }\n        this._drawingStroke = true;\n        const pointGroupOptions = this._getPointGroupOptions();\n        const newPointGroup = Object.assign(Object.assign({}, pointGroupOptions), { points: [] });\n        this._data.push(newPointGroup);\n        this._reset(pointGroupOptions);\n        this._strokeUpdate(event);\n    }\n    _strokeUpdate(event) {\n        if (!this._drawingStroke) {\n            return;\n        }\n        if (this._data.length === 0) {\n            this._strokeBegin(event);\n            return;\n        }\n        this.dispatchEvent(new CustomEvent('beforeUpdateStroke', { detail: event }));\n        const point = this._createPoint(event.x, event.y, event.pressure);\n        const lastPointGroup = this._data[this._data.length - 1];\n        const lastPoints = lastPointGroup.points;\n        const lastPoint = lastPoints.length > 0 && lastPoints[lastPoints.length - 1];\n        const isLastPointTooClose = lastPoint\n            ? point.distanceTo(lastPoint) <= this.minDistance\n            : false;\n        const pointGroupOptions = this._getPointGroupOptions(lastPointGroup);\n        if (!lastPoint || !(lastPoint && isLastPointTooClose)) {\n            const curve = this._addPoint(point, pointGroupOptions);\n            if (!lastPoint) {\n                this._drawDot(point, pointGroupOptions);\n            }\n            else if (curve) {\n                this._drawCurve(curve, pointGroupOptions);\n            }\n            lastPoints.push({\n                time: point.time,\n                x: point.x,\n                y: point.y,\n                pressure: point.pressure,\n            });\n        }\n        this.dispatchEvent(new CustomEvent('afterUpdateStroke', { detail: event }));\n    }\n    _strokeEnd(event, shouldUpdate = true) {\n        this._removeMoveUpEventListeners();\n        if (!this._drawingStroke) {\n            return;\n        }\n        if (shouldUpdate) {\n            this._strokeUpdate(event);\n        }\n        this._drawingStroke = false;\n        this.dispatchEvent(new CustomEvent('endStroke', { detail: event }));\n    }\n    _handlePointerEvents() {\n        this._drawingStroke = false;\n        this.canvas.addEventListener('pointerdown', this._handlePointerDown);\n    }\n    _handleMouseEvents() {\n        this._drawingStroke = false;\n        this.canvas.addEventListener('mousedown', this._handleMouseDown);\n    }\n    _handleTouchEvents() {\n        this.canvas.addEventListener('touchstart', this._handleTouchStart);\n    }\n    _reset(options) {\n        this._lastPoints = [];\n        this._lastVelocity = 0;\n        this._lastWidth = (options.minWidth + options.maxWidth) / 2;\n        this._ctx.fillStyle = options.penColor;\n        this._ctx.globalCompositeOperation = options.compositeOperation;\n    }\n    _createPoint(x, y, pressure) {\n        const rect = this.canvas.getBoundingClientRect();\n        return new Point(x - rect.left, y - rect.top, pressure, new Date().getTime());\n    }\n    _addPoint(point, options) {\n        const { _lastPoints } = this;\n        _lastPoints.push(point);\n        if (_lastPoints.length > 2) {\n            if (_lastPoints.length === 3) {\n                _lastPoints.unshift(_lastPoints[0]);\n            }\n            const widths = this._calculateCurveWidths(_lastPoints[1], _lastPoints[2], options);\n            const curve = Bezier.fromPoints(_lastPoints, widths);\n            _lastPoints.shift();\n            return curve;\n        }\n        return null;\n    }\n    _calculateCurveWidths(startPoint, endPoint, options) {\n        const velocity = options.velocityFilterWeight * endPoint.velocityFrom(startPoint) +\n            (1 - options.velocityFilterWeight) * this._lastVelocity;\n        const newWidth = this._strokeWidth(velocity, options);\n        const widths = {\n            end: newWidth,\n            start: this._lastWidth,\n        };\n        this._lastVelocity = velocity;\n        this._lastWidth = newWidth;\n        return widths;\n    }\n    _strokeWidth(velocity, options) {\n        return Math.max(options.maxWidth / (velocity + 1), options.minWidth);\n    }\n    _drawCurveSegment(x, y, width) {\n        const ctx = this._ctx;\n        ctx.moveTo(x, y);\n        ctx.arc(x, y, width, 0, 2 * Math.PI, false);\n        this._isEmpty = false;\n    }\n    _drawCurve(curve, options) {\n        const ctx = this._ctx;\n        const widthDelta = curve.endWidth - curve.startWidth;\n        const drawSteps = Math.ceil(curve.length()) * 2;\n        ctx.beginPath();\n        ctx.fillStyle = options.penColor;\n        for (let i = 0; i < drawSteps; i += 1) {\n            const t = i / drawSteps;\n            const tt = t * t;\n            const ttt = tt * t;\n            const u = 1 - t;\n            const uu = u * u;\n            const uuu = uu * u;\n            let x = uuu * curve.startPoint.x;\n            x += 3 * uu * t * curve.control1.x;\n            x += 3 * u * tt * curve.control2.x;\n            x += ttt * curve.endPoint.x;\n            let y = uuu * curve.startPoint.y;\n            y += 3 * uu * t * curve.control1.y;\n            y += 3 * u * tt * curve.control2.y;\n            y += ttt * curve.endPoint.y;\n            const width = Math.min(curve.startWidth + ttt * widthDelta, options.maxWidth);\n            this._drawCurveSegment(x, y, width);\n        }\n        ctx.closePath();\n        ctx.fill();\n    }\n    _drawDot(point, options) {\n        const ctx = this._ctx;\n        const width = options.dotSize > 0\n            ? options.dotSize\n            : (options.minWidth + options.maxWidth) / 2;\n        ctx.beginPath();\n        this._drawCurveSegment(point.x, point.y, width);\n        ctx.closePath();\n        ctx.fillStyle = options.penColor;\n        ctx.fill();\n    }\n    _fromData(pointGroups, drawCurve, drawDot) {\n        for (const group of pointGroups) {\n            const { points } = group;\n            const pointGroupOptions = this._getPointGroupOptions(group);\n            if (points.length > 1) {\n                for (let j = 0; j < points.length; j += 1) {\n                    const basicPoint = points[j];\n                    const point = new Point(basicPoint.x, basicPoint.y, basicPoint.pressure, basicPoint.time);\n                    if (j === 0) {\n                        this._reset(pointGroupOptions);\n                    }\n                    const curve = this._addPoint(point, pointGroupOptions);\n                    if (curve) {\n                        drawCurve(curve, pointGroupOptions);\n                    }\n                }\n            }\n            else {\n                this._reset(pointGroupOptions);\n                drawDot(points[0], pointGroupOptions);\n            }\n        }\n    }\n    toSVG({ includeBackgroundColor = false } = {}) {\n        const pointGroups = this._data;\n        const ratio = Math.max(window.devicePixelRatio || 1, 1);\n        const minX = 0;\n        const minY = 0;\n        const maxX = this.canvas.width / ratio;\n        const maxY = this.canvas.height / ratio;\n        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n        svg.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n        svg.setAttribute('viewBox', `${minX} ${minY} ${maxX} ${maxY}`);\n        svg.setAttribute('width', maxX.toString());\n        svg.setAttribute('height', maxY.toString());\n        if (includeBackgroundColor && this.backgroundColor) {\n            const rect = document.createElement('rect');\n            rect.setAttribute('width', '100%');\n            rect.setAttribute('height', '100%');\n            rect.setAttribute('fill', this.backgroundColor);\n            svg.appendChild(rect);\n        }\n        this._fromData(pointGroups, (curve, { penColor }) => {\n            const path = document.createElement('path');\n            if (!isNaN(curve.control1.x) &&\n                !isNaN(curve.control1.y) &&\n                !isNaN(curve.control2.x) &&\n                !isNaN(curve.control2.y)) {\n                const attr = `M ${curve.startPoint.x.toFixed(3)},${curve.startPoint.y.toFixed(3)} ` +\n                    `C ${curve.control1.x.toFixed(3)},${curve.control1.y.toFixed(3)} ` +\n                    `${curve.control2.x.toFixed(3)},${curve.control2.y.toFixed(3)} ` +\n                    `${curve.endPoint.x.toFixed(3)},${curve.endPoint.y.toFixed(3)}`;\n                path.setAttribute('d', attr);\n                path.setAttribute('stroke-width', (curve.endWidth * 2.25).toFixed(3));\n                path.setAttribute('stroke', penColor);\n                path.setAttribute('fill', 'none');\n                path.setAttribute('stroke-linecap', 'round');\n                svg.appendChild(path);\n            }\n        }, (point, { penColor, dotSize, minWidth, maxWidth }) => {\n            const circle = document.createElement('circle');\n            const size = dotSize > 0 ? dotSize : (minWidth + maxWidth) / 2;\n            circle.setAttribute('r', size.toString());\n            circle.setAttribute('cx', point.x.toString());\n            circle.setAttribute('cy', point.y.toString());\n            circle.setAttribute('fill', penColor);\n            svg.appendChild(circle);\n        });\n        return svg.outerHTML;\n    }\n}\n\nexport { SignaturePad as default };\n//# sourceMappingURL=signature_pad.js.map\n","/**\n * filename: signature_pad.js\n * \n * This file initializes signature pad.\n * \n * TODO: make this work with different libraries\n */\n\nimport '../css/signature_pad.css';\nimport SignaturePad from 'signature_pad' ;\n\n// load the options data from django template variable (output from SignaturePadJSOptionsPath)\nconst options = JSON.parse(document.getElementById('signature_pad_options').textContent);\n// console.log('options contain', options);\n\n\n/**\n * function to debounce the operation for t seconds\n *  before executing the function\n * \n * see https://stackoverflow.com/questions/45905160/javascript-on-window-resize-end\n */\nfunction debounce(func, t=100){\n  let timer;\n  return function( event ){\n    if ( timer ) {\n      clearTimeout( timer );\n    }\n    timer = setTimeout(func, t, event);\n  };\n}\n\n\n/**\n * function to resize the canvas for signature pad\n * \n * This function handles high DPI screens.\n * see https://github.com/szimek/signature_pad\n * \n * If the screen is larger than 1024 x 768, resize screen.\n * Otherwise, keep default widget size\n * \n * params:  canvas - the canvas for the signature pad\n *          pad - the signature pad object\n *          width - the reference width for the canvas (const)\n *          height - the reference height for the canvas (const)\n * \n * postcondition: a resized canvas with nothing in it\n */\nfunction resizeCanvas(canvas, pad, width, height) {\n  const defaultWidgetWidth = 306;\n  const defaultWidgetHeight = 156;\n\n  if ( window.screen.width >= 1024 && window.screen.height >= 768 ) {\n    // console.log('resizing');\n    const ratio =  Math.max(window.devicePixelRatio || 1, 1);\n\n    // console.log('before canvas width is', width);\n    // console.log('before canvas width is', height);\n\n    canvas.width = width * ratio;\n    canvas.height = height * ratio;\n    // console.log('ratio is', ratio);\n    \n    // console.log('after canvas width is', canvas.width);\n    // console.log('after canvas height is,', canvas.height);\n    canvas.getContext(\"2d\").scale(ratio, ratio);\n    pad.clear(); // otherwise isEmpty() might return incorrect value\n  } else if ( canvas.width <= defaultWidgetWidth && canvas.height <= defaultWidgetHeight ) {\n    canvas.width = defaultWidgetWidth;\n    canvas.height = defaultWidgetHeight;\n  }\n}\n\n\n/**\n * function to temporarily get the signature from the data field and show it on\n * the signature pad\n * \n * params:  pad - the signature pad object\n *          dataField - the data field to store the data url\n * \n * postcondition: the data url string is stored as a value in datafield\n */\nfunction getSignatureDataURL(pad, dataField) {\n  if ( !pad.isEmpty() ) { // if pad is not empty\n    // console.log('set data to dataField');\n    dataField.value = pad.toDataURL('image/svg+xml');\n  } \n}\n\n\n/**\n * function to temporarily store the signature as a data url on a data field\n * \n * params:  pad - the signature pad object\n *          dataField - the data field to store the data url\n * \n * postcondition: the data url string is displayed on the signature pad\n */\nfunction showSignatureDataURL(pad, dataField) {\n  if ( dataField && dataField.value ) {\n    pad.fromDataURL(dataField.value);\n  }\n}\n\n\n// add event listeners\ndocument.addEventListener('DOMContentLoaded', () => {\n  // select all signature pad canvases\n  const signaturePadWrappers = document.getElementsByClassName('signaturePadWrapper');\n\n  [...signaturePadWrappers].forEach(wrapper => {\n    const signatureData = wrapper.querySelector('input[type=\"hidden\"]'); // the hidden field\n    const canvas = wrapper.querySelector('canvas.signaturePadCanvas');\n\n    // console.log('canvas variable contains', canvas)\n    const signaturePad = new SignaturePad(canvas, options);\n\n    // store the default width and height\n    const defaultCanvasWidth = canvas.offsetWidth;\n    const defaultCanvasHeight = canvas.offsetHeight;\n\n    resizeCanvas(canvas, signaturePad, defaultCanvasWidth, defaultCanvasHeight);\n    showSignatureDataURL(signaturePad, signatureData);\n    \n    // if window resized, resize the canvas\n    window.addEventListener('resize', () => { \n      resizeCanvas(canvas, signaturePad, defaultCanvasWidth, defaultCanvasHeight);\n    } );\n    \n    // if save button exists and is pressed, set data\n    wrapper.querySelector('input.signaturePadSave')?.addEventListener('click', () => {\n      // console.log('save button is pressed');\n      getSignatureDataURL(signaturePad, signatureData);\n      // console.log('set data to dataField', signatureData.value);\n    } );\n    \n    // if reset button exists and is pressed, reset the pad\n    wrapper.querySelector('input.signaturePadReset')?.addEventListener('click', () => {\n      // console.log('resetting the pad');\n      signaturePad.clear()\n    } );\n  })\n});\n"],"names":["Point","constructor","x","y","pressure","time","isNaN","Error","this","Date","now","distanceTo","start","Math","sqrt","pow","equals","other","velocityFrom","Bezier","fromPoints","points","widths","c2","calculateControlPoints","c3","c1","end","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","k","cm","tx","ty","startPoint","control2","control1","endPoint","startWidth","endWidth","length","px","py","i","t","cx","point","cy","xdiff","ydiff","SignatureEventTarget","_et","EventTarget","error","document","addEventListener","type","listener","options","dispatchEvent","event","removeEventListener","callback","SignaturePad","canvas","_a","_b","_c","super","_drawingStroke","_isEmpty","_lastPoints","_data","_lastVelocity","_lastWidth","_handleMouseDown","_isLeftButtonPressed","_strokeBegin","_pointerEventToSignatureEvent","_handleMouseMove","_strokeMoveUpdate","_strokeEnd","_handleMouseUp","_handleTouchStart","targetTouches","cancelable","preventDefault","_touchEventToSignatureEvent","_handleTouchMove","_handleTouchEnd","_handlePointerDown","_handlePointerMove","_handlePointerUp","velocityFilterWeight","minWidth","maxWidth","throttle","minDistance","dotSize","penColor","backgroundColor","compositeOperation","canvasContextOptions","fn","wait","result","storedContext","storedArgs","previous","timeout","later","apply","args","remaining","clearTimeout","window","setTimeout","prototype","_strokeUpdate","_ctx","getContext","clear","on","ctx","fillStyle","clearRect","width","height","fillRect","_reset","_getPointGroupOptions","fromDataURL","dataUrl","Promise","resolve","reject","image","Image","ratio","devicePixelRatio","xOffset","yOffset","onload","drawImage","onerror","crossOrigin","src","toDataURL","encoderOptions","undefined","btoa","toSVG","style","touchAction","msTouchAction","userSelect","isIOS","test","navigator","userAgent","PointerEvent","_handlePointerEvents","_handleMouseEvents","_handleTouchEvents","off","_removeMoveUpEventListeners","_getListenerFunctions","canvasWindow","ownerDocument","defaultView","bind","isEmpty","fromData","pointGroups","_fromData","_drawCurve","_drawDot","concat","toData","only","buttons","clientX","clientY","touch","changedTouches","force","group","CustomEvent","detail","pointGroupOptions","newPointGroup","Object","assign","push","_createPoint","lastPointGroup","lastPoints","lastPoint","isLastPointTooClose","curve","_addPoint","shouldUpdate","globalCompositeOperation","rect","getBoundingClientRect","left","top","getTime","unshift","_calculateCurveWidths","shift","velocity","newWidth","_strokeWidth","max","_drawCurveSegment","moveTo","arc","PI","widthDelta","drawSteps","ceil","beginPath","tt","ttt","u","uu","uuu","min","closePath","fill","drawCurve","drawDot","j","basicPoint","includeBackgroundColor","maxX","maxY","svg","createElementNS","setAttribute","toString","createElement","appendChild","path","attr","toFixed","circle","size","outerHTML","JSON","parse","getElementById","textContent","resizeCanvas","pad","screen","scale","getElementsByClassName","forEach","wrapper","signatureData","querySelector","signaturePad","defaultCanvasWidth","offsetWidth","defaultCanvasHeight","offsetHeight","dataField","value","getSignatureDataURL"],"sourceRoot":""}